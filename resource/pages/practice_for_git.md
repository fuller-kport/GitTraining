# つまらない前置きは終わった!!
著者第一号です，鶏頭と呼称してください．//著者が名乗りたい時はここで

# 何を作る?
このチュートリアルを作るに当たって，
Gitの演習には一体何がふさわしいのか色々考えるわけだ．

鶏頭:「なんか作るのにGitを使ってもらうのが良いかな?」

人間:「どうせ作るなら面白い方が良い」

人間:「使えるとモチベ上がるよね…」

鶏頭:「じゃぁゲームかな? テトリス? ぷよぷよ? マインスイーパ?」

鶏頭:「うーん… ここにはプログラミングしたことがない人も来るわけだから，
説明が面倒くさいやつは避けたいなぁ… それに機能を気軽に追加できるといい… かつみんなが知ってるやつ…」

# 人狼を作る!
というわけで人狼ゲームのホストを作るぜ．
ルールが分からない人は調べて来て．

どうやって遊ぶか?
今回はゲームマスターを作る
自分の番が来たらPCの前に来て昼or夜の行動を選択するんだ
↑
後々通信出来るようにしたいね!

言語はc言語…色々難点はあるけど絶対に約に立つ言語の一つだし，習うからね．
~~難しく感じる人もいるからポインタ使えないし… 
マップもリストもポインタ必須だめ… ほんとはCじゃなくてLispとかPythonとかGoとかLispで書きたかった~~

## どんなものを作るか
何を作るかを最初にはっきりさせて置かないと，
俺が何やってるか分からないと思うが俺も何やってるか分からない状態になるから．

### 仕様
ユーザからの入力はどこから?
- 端末の標準入出力から

どんな役職がある?
- 村人
- 人狼
- 占い (後回し)
- 猟師 (後回し)

### ゲーム全体の流れ
0. 役職を割り振る
	1. 各役職の人数を入力してもらう
	1. 各プレイヤーの名前を入力してもらう+プレイヤーに役職を教える
1. 昼のターン
	1. 一定時間待つ
	1. 処刑したい人を選んでもらう
	1. 誰かが火あぶりにされる
	1. 終了判定 (人狼の数が村人の人数以上なら人狼の，村人しかいないなら村人の勝利)
1. 夜のターン
	1. 各プレイヤーの役職に応じて行動してもらう．
	1. 各プレイヤーの状態を決める
	1. 終了判定 (人狼の数が村人の人数以上なら人狼の，村人しかいないなら村人の勝利)
1. 各プレイヤーに夜のターンの結果を知らせる
1. 1に戻る

# 下準備
## 作業場所の作成
まず作業するディレクトリを作る，
名前は`werewolf`にしよう．
```
//ディレクトリを作るコマンド
mkdir [ディレクトリ名]
```
作ったらそこに移動しよう
```
//カレント(現在の)ディレクトリを変更
cd [変更先のディレクトリ]
```
## [テキストエディタ](https://www.jetbrains.com/)でファイルを作る

作るファイルは次の2つ

内容はコピペで
1. Makefile
```
TARGET = main.c

make_and_run:
	gcc -o werewolf.out $(TARGET)
	./werewolf.out
```
2. main.c
```
# include <stdio.h>

int main(void){
	printf("人狼");
	return 0;
}
```

次のコマンドをうって，`人狼`と出力されたらOKだ．
```
//Makefileに書かれた生成規則に従って，優先度の一番高いターゲットを作成するコマンド
//上のMakefileにはmain.cをコンパイルし実行せよと書いてある
make
```

## リポジトリの作成
`werewolf`ディレクトリをGitの管理下に置こう．
```
//カレント(現在の)ディレクトリをGitの管理下に置く(リポジトリの作成)
git init
```

# コーディング開始!
## 進め方
1. コードを書く(main.cを編集)
1. コンパイルを通す (make)
1. インデックスに変更を登録 (git add --all)
1. コミットする (git commit -m "[コミットメッセージ]")

基本はこれの繰り返しです．

## step1 何をするべきか書く
まずmain.cを編集する．
見通しよくプログラムを書くためにさっき書いたコメントを追加しよう．

[現在の状態](https://github.com/fuller-kport/GitTraining/blob/master/resource/werewolf/step1)

追加できたらGitに現在の状態を記録しよう(コミット)!
```
//このリポジトリの管理下の全ての変更を記録することにする (インデックスに追加)
git add --all
//コメントをつけて記録する (インデックスに追加)
git commit -m "全体の構成をコメントとして追加"
```
## step2 プレイヤーをデータで表現する
コメントをコードに直す前に，プレイヤーをどうやって表現するかを決めたい．
プレイヤの表し方で必要なコードが変わるからだ．それに具体的に考えられるようにもなる．

プレイヤーを表すにはどんな情報が要るだろうか?

名前が要るね，役職も，そしてその生死…これくらい? 

この3つのセットだから構造体を使うのが自然だ．
Player構造体を作ってみよう! 

ここで問題になるのが役職をどう扱うかだ…今回は番号として扱う事にした．
数字のままだと分かりにくいのでenumタイプの型を作って，人にもわかりやすいようにしよう．
```
//名前の最大文字数
#define NAME_MAX_NUM 32

//役職を表すRole型を定義
//始めは単純な物を作りたいので，今はVILLAGER(村人)とWEREWOLF(人狼)だけだ．
typedef enum{
	VILLAGER, //実際は0
	WEREWOLF  //実際は1
}Role;

//プレイヤーを表すPlayer型を定義
typedef struct{
	Role role;               //役職番号
	char[NAME_MAX_NUM] name; //
	int is_live;             //生きているなら1, 死んでいるなら0
}Player;
```

main.cに追記しよう [こんな感じに](https://github.com/fuller-kport/GitTraining/blob/master/resource/werewolf/step2)


